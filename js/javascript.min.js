"use strict";(function(a,b){if(typeof exports==="object"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define(["jquery","googlemaps!"],b)}else{a.GMaps=b()}}}(this,function(){
/*!
 * GMaps.js v0.4.25
 * http://hpneo.github.com/gmaps/
 *
 * Copyright 2017, Gustavo Leon
 * Released under the MIT License.
 */
var h=function(o,p){var n;if(o===p){return o}for(n in p){if(p[n]!==undefined){o[n]=p[n]}}return o};var d=function(p,o){var n;if(p===o){return p}for(n in o){if(p[n]!=undefined){p[n]=o[n]}}return p};var l=function(s,r){var o=Array.prototype.slice.call(arguments,2),q=[],n=s.length,p;if(Array.prototype.map&&s.map===Array.prototype.map){q=Array.prototype.map.call(s,function(u){var t=o.slice(0);t.splice(0,0,u);return r.apply(this,t)})}else{for(p=0;p<n;p++){callback_params=o;callback_params.splice(0,0,s[p]);q.push(r.apply(this,callback_params))}}return q};var f=function(p){var o=[],n;for(n=0;n<p.length;n++){o=o.concat(p[n])}return o};var m=function(o,p){var q=o[0],n=o[1];if(p){q=o[1];n=o[0]}return new google.maps.LatLng(q,n)};var i=function(o,p){var n;for(n=0;n<o.length;n++){if(!(o[n] instanceof google.maps.LatLng)){if(o[n].length>0&&typeof(o[n][0])==="object"){o[n]=i(o[n],p)}else{o[n]=m(o[n],p)}}}return o};var k=function(q,p){var o,n=q.replace(".","");if("jQuery" in this&&p){o=$("."+n,p)[0]}else{o=document.getElementsByClassName(n)[0]}return o};var a=function(p,o){var n,p=p.replace("#","");if("jQuery" in window&&o){n=$("#"+p,o)[0]}else{n=document.getElementById(p)}return n};var g=function(p){var s=0,o=0;if(p.getBoundingClientRect){var n=p.getBoundingClientRect();var r=-(window.scrollX?window.scrollX:window.pageXOffset);var q=-(window.scrollY?window.scrollY:window.pageYOffset);return[(n.left-r),(n.top-q)]}if(p.offsetParent){do{s+=p.offsetLeft;o+=p.offsetTop}while(p=p.offsetParent)}return[s,o]};var j=(function(o){var p=document;var n=function(w){if(!(typeof window.google==="object"&&window.google.maps)){if(typeof window.console==="object"&&window.console.error){console.error("Google Maps API is required. Please register the following JavaScript library https://maps.googleapis.com/maps/api/js.")}return function(){}}if(!this){return new n(w)}w.zoom=w.zoom||15;w.mapType=w.mapType||"roadmap";var J=function(U,T){return U===undefined?T:U};var M=this,O,y=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],C=["mousemove","mouseout","mouseover"],E=["el","lat","lng","mapType","width","height","markerClusterer","enableNewStyle"],u=w.el||w.div,A=w.markerClusterer,P=google.maps.MapTypeId[w.mapType.toUpperCase()],K=new google.maps.LatLng(w.lat,w.lng),S=J(w.zoomControl,true),r=w.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},N=r.style||"DEFAULT",s=r.position||"TOP_LEFT",F=J(w.panControl,true),z=J(w.mapTypeControl,true),D=J(w.scaleControl,true),B=J(w.streetViewControl,true),x=J(x,true),L={},H={zoom:this.zoom,center:K,mapTypeId:P},q={panControl:F,zoomControl:S,zoomControlOptions:{style:google.maps.ZoomControlStyle[N],position:google.maps.ControlPosition[s]},mapTypeControl:z,scaleControl:D,streetViewControl:B,overviewMapControl:x};if(typeof(w.el)==="string"||typeof(w.div)==="string"){if(u.indexOf("#")>-1){this.el=a(u,w.context)}else{this.el=k.apply(this,[u,w.context])}}else{this.el=u}if(typeof(this.el)==="undefined"||this.el===null){throw"No element defined."}window.context_menu=window.context_menu||{};window.context_menu[M.el.id]={};this.controls=[];this.overlays=[];this.layers=[];this.singleLayers={};this.markers=[];this.polylines=[];this.routes=[];this.polygons=[];this.infoWindow=null;this.overlay_el=null;this.zoom=w.zoom;this.registered_events={};this.el.style.width=w.width||this.el.scrollWidth||this.el.offsetWidth;this.el.style.height=w.height||this.el.scrollHeight||this.el.offsetHeight;google.maps.visualRefresh=w.enableNewStyle;for(O=0;O<E.length;O++){delete w[E[O]]}if(w.disableDefaultUI!=true){H=h(H,q)}L=h(H,w);for(O=0;O<y.length;O++){delete L[y[O]]}for(O=0;O<C.length;O++){delete L[C[O]]}this.map=new google.maps.Map(this.el,L);if(A){this.markerClusterer=A.apply(this,[this.map])}var G=function(X,ac){var ab="",ag=window.context_menu[M.el.id][X];for(var Y in ag){if(ag.hasOwnProperty(Y)){var aa=ag[Y];ab+='<li><a id="'+X+"_"+Y+'" href="#">'+aa.title+"</a></li>"}}if(!a("gmaps_context_menu")){return}var ad=a("gmaps_context_menu");ad.innerHTML=ab;var T=ad.getElementsByTagName("a"),af=T.length,Y;for(Y=0;Y<af;Y++){var V=T[Y];var W=function(ah){ah.preventDefault();ag[this.id.replace(X+"_","")].action.apply(M,[ac]);M.hideContextMenu()};google.maps.event.clearListeners(V,"click");google.maps.event.addDomListenerOnce(V,"click",W,false)}var Z=g.apply(this,[M.el]),U=Z[0]+ac.pixel.x-15,ae=Z[1]+ac.pixel.y-15;ad.style.left=U+"px";ad.style.top=ae+"px"};this.buildContextMenu=function(V,U){if(V==="marker"){U.pixel={};var T=new google.maps.OverlayView();T.setMap(M.map);T.draw=function(){var Y=T.getProjection(),X=U.marker.getPosition();U.pixel=Y.fromLatLngToContainerPixel(X);G(V,U)}}else{G(V,U)}var W=a("gmaps_context_menu");setTimeout(function(){W.style.display="block"},0)};this.setContextMenu=function(T){window.context_menu[M.el.id][T.control]={};var V,U=p.createElement("ul");for(V in T.options){if(T.options.hasOwnProperty(V)){var W=T.options[V];window.context_menu[M.el.id][T.control][W.name]={title:W.title,action:W.action}}}U.id="gmaps_context_menu";U.style.display="none";U.style.position="absolute";U.style.minWidth="100px";U.style.background="white";U.style.listStyle="none";U.style.padding="8px";U.style.boxShadow="2px 2px 6px #ccc";if(!a("gmaps_context_menu")){p.body.appendChild(U)}var X=a("gmaps_context_menu");google.maps.event.addDomListener(X,"mouseout",function(Y){if(!Y.relatedTarget||!this.contains(Y.relatedTarget)){window.setTimeout(function(){X.style.display="none"},400)}},false)};this.hideContextMenu=function(){var T=a("gmaps_context_menu");if(T){T.style.display="none"}};var I=function(U,T){google.maps.event.addListener(U,T,function(V){if(V==undefined){V=this}w[T].apply(this,[V]);M.hideContextMenu()})};google.maps.event.addListener(this.map,"zoom_changed",this.hideContextMenu);for(var Q=0;Q<y.length;Q++){var R=y[Q];if(R in w){I(this.map,R)}}for(var Q=0;Q<C.length;Q++){var R=C[Q];if(R in w){I(this.map,R)}}google.maps.event.addListener(this.map,"rightclick",function(T){if(w.rightclick){w.rightclick.apply(this,[T])}if(window.context_menu[M.el.id]["map"]!=undefined){M.buildContextMenu("map",T)}});this.refresh=function(){google.maps.event.trigger(this.map,"resize")};this.fitZoom=function(){var V=[],T=this.markers.length,U;for(U=0;U<T;U++){if(typeof(this.markers[U].visible)==="boolean"&&this.markers[U].visible){V.push(this.markers[U].getPosition())}}this.fitLatLngBounds(V)};this.fitLatLngBounds=function(W){var V=W.length,U=new google.maps.LatLngBounds(),T;for(T=0;T<V;T++){U.extend(W[T])}this.map.fitBounds(U)};this.setCenter=function(U,T,V){this.map.panTo(new google.maps.LatLng(U,T));if(V){V()}};this.getElement=function(){return this.el};this.zoomIn=function(T){T=T||1;this.zoom=this.map.getZoom()+T;this.map.setZoom(this.zoom)};this.zoomOut=function(T){T=T||1;this.zoom=this.map.getZoom()-T;this.map.setZoom(this.zoom)};var v=[],t;for(t in this.map){if(typeof(this.map[t])=="function"&&!this[t]){v.push(t)}}for(O=0;O<v.length;O++){(function(T,V,U){T[U]=function(){return V[U].apply(V,arguments)}})(this,this.map,v[O])}};return n})(this);j.prototype.createControl=function(n){var q=document.createElement("div");q.style.cursor="pointer";if(n.disableDefaultStyles!==true){q.style.fontFamily="Roboto, Arial, sans-serif";q.style.fontSize="11px";q.style.boxShadow="rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px"}for(var o in n.style){q.style[o]=n.style[o]}if(n.id){q.id=n.id}if(n.title){q.title=n.title}if(n.classes){q.className=n.classes}if(n.content){if(typeof n.content==="string"){q.innerHTML=n.content}else{if(n.content instanceof HTMLElement){q.appendChild(n.content)}}}if(n.position){q.position=google.maps.ControlPosition[n.position.toUpperCase()]}for(var p in n.events){(function(s,r){google.maps.event.addDomListener(s,r,function(){n.events[r].apply(this,[this])})})(q,p)}q.index=1;return q};j.prototype.addControl=function(n){var o=this.createControl(n);this.controls.push(o);this.map.controls[o.position].push(o);return o};j.prototype.removeControl=function(q){var n=null,p;for(p=0;p<this.controls.length;p++){if(this.controls[p]==q){n=this.controls[p].position;this.controls.splice(p,1)}}if(n){for(p=0;p<this.map.controls.length;p++){var o=this.map.controls[q.position];if(o.getAt(p)==q){o.removeAt(p);break}}}return q};j.prototype.createMarker=function(y){if(y.lat==undefined&&y.lng==undefined&&y.position==undefined){throw"No latitude or longitude defined."}var x=this,o=y.details,s=y.fences,u=y.outside,r={position:new google.maps.LatLng(y.lat,y.lng),map:null},p=h(r,y);delete p.lat;delete p.lng;delete p.fences;delete p.outside;var t=new google.maps.Marker(p);t.fences=s;if(y.infoWindow){t.infoWindow=new google.maps.InfoWindow(y.infoWindow);var n=["closeclick","content_changed","domready","position_changed","zindex_changed"];for(var v=0;v<n.length;v++){(function(A,z){if(y.infoWindow[z]){google.maps.event.addListener(A,z,function(B){y.infoWindow[z].apply(this,[B])})}})(t.infoWindow,n[v])}}var w=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"];var q=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"];for(var v=0;v<w.length;v++){(function(A,z){if(y[z]){google.maps.event.addListener(A,z,function(){y[z].apply(this,[this])})}})(t,w[v])}for(var v=0;v<q.length;v++){(function(B,A,z){if(y[z]){google.maps.event.addListener(A,z,function(C){if(!C.pixel){C.pixel=B.getProjection().fromLatLngToPoint(C.latLng)}y[z].apply(this,[C])})}})(this.map,t,q[v])}google.maps.event.addListener(t,"click",function(){this.details=o;if(y.click){y.click.apply(this,[this])}if(t.infoWindow){x.hideInfoWindows();t.infoWindow.open(x.map,t)}});google.maps.event.addListener(t,"rightclick",function(z){z.marker=this;if(y.rightclick){y.rightclick.apply(this,[z])}if(window.context_menu[x.el.id]["marker"]!=undefined){x.buildContextMenu("marker",z)}});if(t.fences){google.maps.event.addListener(t,"dragend",function(){x.checkMarkerGeofence(t,function(z,A){u(z,A)})})}return t};j.prototype.addMarker=function(o){var n;if(o.hasOwnProperty("gm_accessors_")){n=o}else{if((o.hasOwnProperty("lat")&&o.hasOwnProperty("lng"))||o.position){n=this.createMarker(o)}else{throw"No latitude or longitude defined."}}n.setMap(this.map);if(this.markerClusterer){this.markerClusterer.addMarker(n)}this.markers.push(n);j.fire("marker_added",n,this);return n};j.prototype.addMarkers=function(p){for(var o=0,n;n=p[o];o++){this.addMarker(n)}return this.markers};j.prototype.hideInfoWindows=function(){for(var o=0,n;n=this.markers[o];o++){if(n.infoWindow){n.infoWindow.close()}}};j.prototype.removeMarker=function(n){for(var o=0;o<this.markers.length;o++){if(this.markers[o]===n){this.markers[o].setMap(null);this.markers.splice(o,1);if(this.markerClusterer){this.markerClusterer.removeMarker(n)}j.fire("marker_removed",n,this);break}}return n};j.prototype.removeMarkers=function(r){var n=[];if(typeof r=="undefined"){for(var q=0;q<this.markers.length;q++){var o=this.markers[q];o.setMap(null);j.fire("marker_removed",o,this)}if(this.markerClusterer&&this.markerClusterer.clearMarkers){this.markerClusterer.clearMarkers()}this.markers=n}else{for(var q=0;q<r.length;q++){var p=this.markers.indexOf(r[q]);if(p>-1){var o=this.markers[p];o.setMap(null);if(this.markerClusterer){this.markerClusterer.removeMarker(o)}j.fire("marker_removed",o,this)}}for(var q=0;q<this.markers.length;q++){var o=this.markers[q];if(o.getMap()!=null){n.push(o)}}this.markers=n}};j.prototype.drawOverlay=function(o){var n=new google.maps.OverlayView(),p=true;n.setMap(this.map);if(o.auto_show!=null){p=o.auto_show}n.onAdd=function(){var t=document.createElement("div");t.style.borderStyle="none";t.style.borderWidth="0px";t.style.position="absolute";t.style.zIndex=100;t.innerHTML=o.content;n.el=t;if(!o.layer){o.layer="overlayLayer"}var s=this.getPanes(),q=s[o.layer],r=["contextmenu","DOMMouseScroll","dblclick","mousedown"];q.appendChild(t);for(var u=0;u<r.length;u++){(function(w,v){google.maps.event.addDomListener(w,v,function(x){if(navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&document.all){x.cancelBubble=true;x.returnValue=false}else{x.stopPropagation()}})})(t,r[u])}if(o.click){s.overlayMouseTarget.appendChild(n.el);google.maps.event.addDomListener(n.el,"click",function(){o.click.apply(n,[n])})}google.maps.event.trigger(this,"ready")};n.draw=function(){var q=this.getProjection(),s=q.fromLatLngToDivPixel(new google.maps.LatLng(o.lat,o.lng));o.horizontalOffset=o.horizontalOffset||0;o.verticalOffset=o.verticalOffset||0;var t=n.el,u=t.children[0],r=u.clientHeight,v=u.clientWidth;switch(o.verticalAlign){case"top":t.style.top=(s.y-r+o.verticalOffset)+"px";break;default:case"middle":t.style.top=(s.y-(r/2)+o.verticalOffset)+"px";break;case"bottom":t.style.top=(s.y+o.verticalOffset)+"px";break}switch(o.horizontalAlign){case"left":t.style.left=(s.x-v+o.horizontalOffset)+"px";break;default:case"center":t.style.left=(s.x-(v/2)+o.horizontalOffset)+"px";break;case"right":t.style.left=(s.x+o.horizontalOffset)+"px";break}t.style.display=p?"block":"none";if(!p){o.show.apply(this,[t])}};n.onRemove=function(){var q=n.el;if(o.remove){o.remove.apply(this,[q])}else{n.el.parentNode.removeChild(n.el);n.el=null}};this.overlays.push(n);return n};j.prototype.removeOverlay=function(n){for(var o=0;o<this.overlays.length;o++){if(this.overlays[o]===n){this.overlays[o].setMap(null);this.overlays.splice(o,1);break}}};j.prototype.removeOverlays=function(){for(var n=0,o;o=this.overlays[n];n++){o.setMap(null)}this.overlays=[]};j.prototype.drawPolyline=function(v){var u=[],s=v.path;if(s.length){if(s[0][0]===undefined){u=s}else{for(var o=0,n;n=s[o];o++){u.push(new google.maps.LatLng(n[0],n[1]))}}}var p={map:this.map,path:u,strokeColor:v.strokeColor,strokeOpacity:v.strokeOpacity,strokeWeight:v.strokeWeight,geodesic:v.geodesic,clickable:true,editable:false,visible:true};if(v.hasOwnProperty("clickable")){p.clickable=v.clickable}if(v.hasOwnProperty("editable")){p.editable=v.editable}if(v.hasOwnProperty("icons")){p.icons=v.icons}if(v.hasOwnProperty("zIndex")){p.zIndex=v.zIndex}var r=new google.maps.Polyline(p);var t=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var q=0;q<t.length;q++){(function(x,w){if(v[w]){google.maps.event.addListener(x,w,function(y){v[w].apply(this,[y])})}})(r,t[q])}this.polylines.push(r);j.fire("polyline_added",r,this);return r};j.prototype.removePolyline=function(n){for(var o=0;o<this.polylines.length;o++){if(this.polylines[o]===n){this.polylines[o].setMap(null);this.polylines.splice(o,1);j.fire("polyline_removed",n,this);break}}};j.prototype.removePolylines=function(){for(var n=0,o;o=this.polylines[n];n++){o.setMap(null)}this.polylines=[]};j.prototype.drawCircle=function(n){n=h({map:this.map,center:new google.maps.LatLng(n.lat,n.lng)},n);delete n.lat;delete n.lng;var o=new google.maps.Circle(n),q=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var p=0;p<q.length;p++){(function(s,r){if(n[r]){google.maps.event.addListener(s,r,function(t){n[r].apply(this,[t])})}})(o,q[p])}this.polygons.push(o);return o};j.prototype.drawRectangle=function(n){n=h({map:this.map},n);var q=new google.maps.LatLngBounds(new google.maps.LatLng(n.bounds[0][0],n.bounds[0][1]),new google.maps.LatLng(n.bounds[1][0],n.bounds[1][1]));n.bounds=q;var o=new google.maps.Rectangle(n),r=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var p=0;p<r.length;p++){(function(t,s){if(n[s]){google.maps.event.addListener(t,s,function(u){n[s].apply(this,[u])})}})(o,r[p])}this.polygons.push(o);return o};j.prototype.drawPolygon=function(n){var q=false;if(n.hasOwnProperty("useGeoJSON")){q=n.useGeoJSON}delete n.useGeoJSON;n=h({map:this.map},n);if(q==false){n.paths=[n.paths.slice(0)]}if(n.paths.length>0){if(n.paths[0].length>0){n.paths=f(l(n.paths,i,q))}}var o=new google.maps.Polygon(n),r=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var p=0;p<r.length;p++){(function(t,s){if(n[s]){google.maps.event.addListener(t,s,function(u){n[s].apply(this,[u])})}})(o,r[p])}this.polygons.push(o);j.fire("polygon_added",o,this);return o};j.prototype.removePolygon=function(o){for(var n=0;n<this.polygons.length;n++){if(this.polygons[n]===o){this.polygons[n].setMap(null);this.polygons.splice(n,1);j.fire("polygon_removed",o,this);break}}};j.prototype.removePolygons=function(){for(var n=0,o;o=this.polygons[n];n++){o.setMap(null)}this.polygons=[]};j.prototype.getFromFusionTables=function(o){var q=o.events;delete o.events;var n=o,p=new google.maps.FusionTablesLayer(n);for(var r in q){(function(t,s){google.maps.event.addListener(t,s,function(u){q[s].apply(this,[u])})})(p,r)}this.layers.push(p);return p};j.prototype.loadFromFusionTables=function(n){var o=this.getFromFusionTables(n);o.setMap(this.map);return o};j.prototype.getFromKML=function(o){var n=o.url,q=o.events;delete o.url;delete o.events;var s=o,p=new google.maps.KmlLayer(n,s);for(var r in q){(function(u,t){google.maps.event.addListener(u,t,function(v){q[t].apply(this,[v])})})(p,r)}this.layers.push(p);return p};j.prototype.loadFromKML=function(n){var o=this.getFromKML(n);o.setMap(this.map);return o};j.prototype.addLayer=function(p,o){o=o||{};var q;switch(p){case"weather":this.singleLayers.weather=q=new google.maps.weather.WeatherLayer();break;case"clouds":this.singleLayers.clouds=q=new google.maps.weather.CloudLayer();break;case"traffic":this.singleLayers.traffic=q=new google.maps.TrafficLayer();break;case"transit":this.singleLayers.transit=q=new google.maps.TransitLayer();break;case"bicycling":this.singleLayers.bicycling=q=new google.maps.BicyclingLayer();break;case"panoramio":this.singleLayers.panoramio=q=new google.maps.panoramio.PanoramioLayer();q.setTag(o.filter);delete o.filter;if(o.click){google.maps.event.addListener(q,"click",function(s){o.click(s);delete o.click})}break;case"places":this.singleLayers.places=q=new google.maps.places.PlacesService(this.map);if(o.search||o.nearbySearch||o.radarSearch){var n={bounds:o.bounds||null,keyword:o.keyword||null,location:o.location||null,name:o.name||null,radius:o.radius||null,rankBy:o.rankBy||null,types:o.types||null};if(o.radarSearch){q.radarSearch(n,o.radarSearch)}if(o.search){q.search(n,o.search)}if(o.nearbySearch){q.nearbySearch(n,o.nearbySearch)}}if(o.textSearch){var r={bounds:o.bounds||null,location:o.location||null,query:o.query||null,radius:o.radius||null};q.textSearch(r,o.textSearch)}break}if(q!==undefined){if(typeof q.setOptions=="function"){q.setOptions(o)}if(typeof q.setMap=="function"){q.setMap(this.map)}return q}};j.prototype.removeLayer=function(o){if(typeof(o)=="string"&&this.singleLayers[o]!==undefined){this.singleLayers[o].setMap(null);delete this.singleLayers[o]}else{for(var n=0;n<this.layers.length;n++){if(this.layers[n]===o){this.layers[n].setMap(null);this.layers.splice(n,1);break}}}};var b,c;j.prototype.getRoutes=function(s){switch(s.travelMode){case"bicycling":b=google.maps.TravelMode.BICYCLING;break;case"transit":b=google.maps.TravelMode.TRANSIT;break;case"driving":b=google.maps.TravelMode.DRIVING;break;default:b=google.maps.TravelMode.WALKING;break}if(s.unitSystem==="imperial"){c=google.maps.UnitSystem.IMPERIAL}else{c=google.maps.UnitSystem.METRIC}var r={avoidHighways:false,avoidTolls:false,optimizeWaypoints:false,waypoints:[]},q=h(r,s);q.origin=/string/.test(typeof s.origin)?s.origin:new google.maps.LatLng(s.origin[0],s.origin[1]);q.destination=/string/.test(typeof s.destination)?s.destination:new google.maps.LatLng(s.destination[0],s.destination[1]);q.travelMode=b;q.unitSystem=c;delete q.callback;delete q.error;var p=this,o=[],n=new google.maps.DirectionsService();n.route(q,function(t,u){if(u===google.maps.DirectionsStatus.OK){for(var v in t.routes){if(t.routes.hasOwnProperty(v)){o.push(t.routes[v])}}if(s.callback){s.callback(o,t,u)}}else{if(s.error){s.error(t,u)}}})};j.prototype.removeRoutes=function(){this.routes.length=0};j.prototype.getElevations=function(o){o=h({locations:[],path:false,samples:256},o);if(o.locations.length>0){if(o.locations[0].length>0){o.locations=f(l([o.locations],i,false))}}var q=o.callback;delete o.callback;var n=new google.maps.ElevationService();if(!o.path){delete o.path;delete o.samples;n.getElevationForLocations(o,function(r,s){if(q&&typeof(q)==="function"){q(r,s)}})}else{var p={path:o.locations,samples:o.samples};n.getElevationAlongPath(p,function(r,s){if(q&&typeof(q)==="function"){q(r,s)}})}};j.prototype.cleanRoute=j.prototype.removePolylines;j.prototype.renderRoute=function(q,p){var o=this,n=((typeof p.panel==="string")?document.getElementById(p.panel.replace("#","")):p.panel),r;p.panel=n;p=h({map:this.map},p);r=new google.maps.DirectionsRenderer(p);this.getRoutes({origin:q.origin,destination:q.destination,travelMode:q.travelMode,waypoints:q.waypoints,unitSystem:q.unitSystem,error:q.error,avoidHighways:q.avoidHighways,avoidTolls:q.avoidTolls,optimizeWaypoints:q.optimizeWaypoints,callback:function(t,u,s){if(s===google.maps.DirectionsStatus.OK){r.setDirections(u)}}})};j.prototype.drawRoute=function(o){var n=this;this.getRoutes({origin:o.origin,destination:o.destination,travelMode:o.travelMode,waypoints:o.waypoints,unitSystem:o.unitSystem,error:o.error,avoidHighways:o.avoidHighways,avoidTolls:o.avoidTolls,optimizeWaypoints:o.optimizeWaypoints,callback:function(p){if(p.length>0){var q={path:p[p.length-1].overview_path,strokeColor:o.strokeColor,strokeOpacity:o.strokeOpacity,strokeWeight:o.strokeWeight};if(o.hasOwnProperty("icons")){q.icons=o.icons}n.drawPolyline(q);if(o.callback){o.callback(p[p.length-1])}}}})};j.prototype.travelRoute=function(o){if(o.origin&&o.destination){this.getRoutes({origin:o.origin,destination:o.destination,travelMode:o.travelMode,waypoints:o.waypoints,unitSystem:o.unitSystem,error:o.error,callback:function(v){if(v.length>0&&o.start){o.start(v[v.length-1])}if(v.length>0&&o.step){var s=v[v.length-1];if(s.legs.length>0){var r=s.legs[0].steps;for(var t=0,u;u=r[t];t++){u.step_number=t;o.step(u,(s.legs[0].steps.length-1))}}}if(v.length>0&&o.end){o.end(v[v.length-1])}}})}else{if(o.route){if(o.route.legs.length>0){var n=o.route.legs[0].steps;for(var p=0,q;q=n[p];p++){q.step_number=p;o.step(q)}}}}};j.prototype.drawSteppedRoute=function(q){var p=this;if(q.origin&&q.destination){this.getRoutes({origin:q.origin,destination:q.destination,travelMode:q.travelMode,waypoints:q.waypoints,error:q.error,callback:function(y){if(y.length>0&&q.start){q.start(y[y.length-1])}if(y.length>0&&q.step){var v=y[y.length-1];if(v.legs.length>0){var u=v.legs[0].steps;for(var w=0,x;x=u[w];w++){x.step_number=w;var t={path:x.path,strokeColor:q.strokeColor,strokeOpacity:q.strokeOpacity,strokeWeight:q.strokeWeight};if(q.hasOwnProperty("icons")){t.icons=q.icons}p.drawPolyline(t);q.step(x,(v.legs[0].steps.length-1))}}}if(y.length>0&&q.end){q.end(y[y.length-1])}}})}else{if(q.route){if(q.route.legs.length>0){var o=q.route.legs[0].steps;for(var r=0,s;s=o[r];r++){s.step_number=r;var n={path:s.path,strokeColor:q.strokeColor,strokeOpacity:q.strokeOpacity,strokeWeight:q.strokeWeight};if(q.hasOwnProperty("icons")){n.icons=q.icons}p.drawPolyline(n);q.step(s)}}}}};j.Route=function(o){this.origin=o.origin;this.destination=o.destination;this.waypoints=o.waypoints;this.map=o.map;this.route=o.route;this.step_count=0;this.steps=this.route.legs[0].steps;this.steps_length=this.steps.length;var n={path:new google.maps.MVCArray(),strokeColor:o.strokeColor,strokeOpacity:o.strokeOpacity,strokeWeight:o.strokeWeight};if(o.hasOwnProperty("icons")){n.icons=o.icons}this.polyline=this.map.drawPolyline(n).getPath()};j.Route.prototype.getRoute=function(o){var n=this;this.map.getRoutes({origin:this.origin,destination:this.destination,travelMode:o.travelMode,waypoints:this.waypoints||[],error:o.error,callback:function(){n.route=e[0];if(o.callback){o.callback.call(n)}}})};j.Route.prototype.back=function(){if(this.step_count>0){this.step_count--;var o=this.route.legs[0].steps[this.step_count].path;for(var n in o){if(o.hasOwnProperty(n)){this.polyline.pop()}}}};j.Route.prototype.forward=function(){if(this.step_count<this.steps_length){var o=this.route.legs[0].steps[this.step_count].path;for(var n in o){if(o.hasOwnProperty(n)){this.polyline.push(o[n])}}this.step_count++}};j.prototype.checkGeofence=function(o,n,p){return p.containsLatLng(new google.maps.LatLng(o,n))};j.prototype.checkMarkerGeofence=function(n,p){if(n.fences){for(var o=0,q;q=n.fences[o];o++){var r=n.getPosition();if(!this.checkGeofence(r.lat(),r.lng(),q)){p(n,q)}}}};j.prototype.toImage=function(o){var o=o||{},q={};q.size=o.size||[this.el.clientWidth,this.el.clientHeight];q.lat=this.getCenter().lat();q.lng=this.getCenter().lng();if(this.markers.length>0){q.markers=[];for(var p=0;p<this.markers.length;p++){q.markers.push({lat:this.markers[p].getPosition().lat(),lng:this.markers[p].getPosition().lng()})}}if(this.polylines.length>0){var n=this.polylines[0];q.polyline={};q.polyline["path"]=google.maps.geometry.encoding.encodePath(n.getPath());q.polyline["strokeColor"]=n.strokeColor;q.polyline["strokeOpacity"]=n.strokeOpacity;q.polyline["strokeWeight"]=n.strokeWeight}return j.staticMapURL(q)};j.staticMapURL=function(o){var u=[],M,q=(location.protocol==="file:"?"http:":location.protocol)+"//maps.googleapis.com/maps/api/staticmap";if(o.url){q=o.url;delete o.url}q+="?";var J=o.markers;delete o.markers;if(!J&&o.marker){J=[o.marker];delete o.marker}var x=o.styles;delete o.styles;var C=o.polyline;delete o.polyline;if(o.center){u.push("center="+o.center);delete o.center}else{if(o.address){u.push("center="+o.address);delete o.address}else{if(o.lat){u.push(["center=",o.lat,",",o.lng].join(""));delete o.lat;delete o.lng}else{if(o.visible){var n=encodeURI(o.visible.join("|"));u.push("visible="+n)}}}}var A=o.size;if(A){if(A.join){A=A.join("x")}delete o.size}else{A="630x300"}u.push("size="+A);if(!o.zoom&&o.zoom!==false){o.zoom=15}var K=o.hasOwnProperty("sensor")?!!o.sensor:true;delete o.sensor;u.push("sensor="+K);for(var v in o){if(o.hasOwnProperty(v)){u.push(v+"="+o[v])}}if(J){var w,y;for(var G=0;M=J[G];G++){w=[];if(M.size&&M.size!=="normal"){w.push("size:"+M.size);delete M.size}else{if(M.icon){w.push("icon:"+encodeURI(M.icon));delete M.icon}}if(M.color){w.push("color:"+M.color.replace("#","0x"));delete M.color}if(M.label){w.push("label:"+M.label[0].toUpperCase());delete M.label}y=(M.address?M.address:M.lat+","+M.lng);delete M.address;delete M.lat;delete M.lng;for(var v in M){if(M.hasOwnProperty(v)){w.push(v+":"+M[v])}}if(w.length||G===0){w.push(y);w=w.join("|");u.push("markers="+encodeURI(w))}else{w=u.pop()+encodeURI("|"+y);u.push(w)}}}if(x){for(var G=0;G<x.length;G++){var z=[];if(x[G].featureType){z.push("feature:"+x[G].featureType.toLowerCase())}if(x[G].elementType){z.push("element:"+x[G].elementType.toLowerCase())}for(var F=0;F<x[G].stylers.length;F++){for(var D in x[G].stylers[F]){var H=x[G].stylers[F][D];if(D=="hue"||D=="color"){H="0x"+H.substring(1)}z.push(D+":"+H)}}var t=z.join("|");if(t!=""){u.push("style="+t)}}}function I(p,N){if(p[0]==="#"){p=p.replace("#","0x");if(N){N=parseFloat(N);N=Math.min(1,Math.max(N,0));if(N===0){return"0x00000000"}N=(N*255).toString(16);if(N.length===1){N+=N}p=p.slice(0,8)+N}}return p}if(C){M=C;C=[];if(M.strokeWeight){C.push("weight:"+parseInt(M.strokeWeight,10))}if(M.strokeColor){var E=I(M.strokeColor,M.strokeOpacity);C.push("color:"+E)}if(M.fillColor){var L=I(M.fillColor,M.fillOpacity);C.push("fillcolor:"+L)}var B=M.path;if(B.join){for(var F=0,s;s=B[F];F++){C.push(s.join(","))}}else{C.push("enc:"+B)}C=C.join("|");u.push("path="+encodeURI(C))}var r=window.devicePixelRatio||1;u.push("scale="+r);u=u.join("&");return q+u};j.prototype.addMapType=function(n,o){if(o.hasOwnProperty("getTileUrl")&&typeof(o.getTileUrl)=="function"){o.tileSize=o.tileSize||new google.maps.Size(256,256);var p=new google.maps.ImageMapType(o);this.map.mapTypes.set(n,p)}else{throw"'getTileUrl' function required."}};j.prototype.addOverlayMapType=function(n){if(n.hasOwnProperty("getTile")&&typeof(n.getTile)=="function"){var o=n.index;delete n.index;this.map.overlayMapTypes.insertAt(o,n)}else{throw"'getTile' function required."}};j.prototype.removeOverlayMapType=function(n){this.map.overlayMapTypes.removeAt(n)};j.prototype.addStyle=function(o){var n=new google.maps.StyledMapType(o.styles,{name:o.styledMapName});this.map.mapTypes.set(o.mapTypeId,n)};j.prototype.setStyle=function(n){this.map.setMapTypeId(n)};j.prototype.createPanorama=function(n){if(!n.hasOwnProperty("lat")||!n.hasOwnProperty("lng")){n.lat=this.getCenter().lat();n.lng=this.getCenter().lng()}this.panorama=j.createPanorama(n);this.map.setStreetView(this.panorama);return this.panorama};j.createPanorama=function(o){var r=a(o.el,o.context);o.position=new google.maps.LatLng(o.lat,o.lng);delete o.el;delete o.context;delete o.lat;delete o.lng;var s=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],n=h({visible:true},o);for(var q=0;q<s.length;q++){delete n[s[q]]}var p=new google.maps.StreetViewPanorama(r,n);for(var q=0;q<s.length;q++){(function(u,t){if(o[t]){google.maps.event.addListener(u,t,function(){o[t].apply(this)})}})(p,s[q])}return p};j.prototype.on=function(o,n){return j.on(o,this,n)};j.prototype.off=function(n){j.off(n,this)};j.prototype.once=function(o,n){return j.once(o,this,n)};j.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"];j.on=function(q,n,p){if(j.custom_events.indexOf(q)==-1){if(n instanceof j){n=n.map}return google.maps.event.addListener(n,q,p)}else{var o={handler:p,eventName:q};n.registered_events[q]=n.registered_events[q]||[];n.registered_events[q].push(o);return o}};j.off=function(o,n){if(j.custom_events.indexOf(o)==-1){if(n instanceof j){n=n.map}google.maps.event.clearListeners(n,o)}else{n.registered_events[o]=[]}};j.once=function(p,n,o){if(j.custom_events.indexOf(p)==-1){if(n instanceof j){n=n.map}return google.maps.event.addListenerOnce(n,p,o)}};j.fire=function(r,n,q){if(j.custom_events.indexOf(r)==-1){google.maps.event.trigger(n,r,Array.prototype.slice.apply(arguments).slice(2))}else{if(r in q.registered_events){var p=q.registered_events[r];for(var o=0;o<p.length;o++){(function(u,t,s){u.apply(t,[s])})(p[o]["handler"],q,n)}}}};j.geolocate=function(n){var o=n.always||n.complete;if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(p){n.success(p);if(o){o()}},function(p){n.error(p);if(o){o()}},n.options)}else{n.not_supported();if(o){o()}}};j.geocode=function(n){this.geocoder=new google.maps.Geocoder();var o=n.callback;if(n.hasOwnProperty("lat")&&n.hasOwnProperty("lng")){n.latLng=new google.maps.LatLng(n.lat,n.lng)}delete n.lat;delete n.lng;delete n.callback;this.geocoder.geocode(n,function(q,p){o(q,p)})};if(typeof window.google==="object"&&window.google.maps){if(!google.maps.Polygon.prototype.getBounds){google.maps.Polygon.prototype.getBounds=function(q){var o=new google.maps.LatLngBounds();var t=this.getPaths();var s;for(var r=0;r<t.getLength();r++){s=t.getAt(r);for(var n=0;n<s.getLength();n++){o.extend(s.getAt(n))}}return o}}if(!google.maps.Polygon.prototype.containsLatLng){google.maps.Polygon.prototype.containsLatLng=function(s){var n=this.getBounds();if(n!==null&&!n.contains(s)){return false}var q=false;var o=this.getPaths().getLength();for(var r=0;r<o;r++){var y=this.getPaths().getAt(r);var v=y.getLength();var t=v-1;for(var u=0;u<v;u++){var x=y.getAt(u);var w=y.getAt(t);if(x.lng()<s.lng()&&w.lng()>=s.lng()||w.lng()<s.lng()&&x.lng()>=s.lng()){if(x.lat()+(s.lng()-x.lng())/(w.lng()-x.lng())*(w.lat()-x.lat())<s.lat()){q=!q}}t=u}}return q}}if(!google.maps.Circle.prototype.containsLatLng){google.maps.Circle.prototype.containsLatLng=function(n){if(google.maps.geometry){return google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(),n)<=this.getRadius()}else{return true}}}google.maps.Rectangle.prototype.containsLatLng=function(n){return this.getBounds().contains(n)};google.maps.LatLngBounds.prototype.containsLatLng=function(n){return this.contains(n)};google.maps.Marker.prototype.setFences=function(n){this.fences=n};google.maps.Marker.prototype.addFence=function(n){this.fences.push(n)};google.maps.Marker.prototype.getId=function(){return this["__gm_id"]}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(q){if(this==null){throw new TypeError()}var r=Object(this);var o=r.length>>>0;if(o===0){return -1}var s=0;if(arguments.length>1){s=Number(arguments[1]);if(s!=s){s=0}else{if(s!=0&&s!=Infinity&&s!=-Infinity){s=(s>0||-1)*Math.floor(Math.abs(s))}}}if(s>=o){return -1}var p=s>=0?s:Math.max(o-Math.abs(s),0);for(;p<o;p++){if(p in r&&r[p]===q){return p}}return -1}}return j}));function setUpSpecialNavs(){$(".navbar-toggle").click(function(f){var g=$(this).closest("nav"),d=g.find("ul.site-navigation"),c=d.clone();if(d.parent().hasClass("nav-special")){if(f.stopPropagation(),$(this).hasClass("selected-nav")){$(".blocsapp-special-menu blocsnav").removeClass("open"),$(".selected-nav").removeClass("selected-nav"),setTimeout(function(){$(".blocsapp-special-menu").remove(),$("body").removeClass("lock-scroll"),$(".selected-nav").removeClass("selected-nav")},300)}else{$(this).addClass("selected-nav");var h=g.attr("class").replace("navbar","").replace("row",""),b=d.parent().attr("class").replace("navbar-collapse","").replace("collapse","");($(".content-tint").length=-1)&&$("body").append('<div class="content-tint"></div>'),c.insertBefore(".page-container").wrap('<div class="blocsapp-special-menu '+h+'"><blocsnav class="'+b+'">'),$("blocsnav").prepend('<a class="close-special-menu animated fadeIn" style="animation-delay:0.5s;"><div class="close-icon"></div></a>'),function(){var j="fadeInRight",k=0,a=60;$(".blocsapp-special-menu blocsnav").hasClass("fullscreen-nav")?(j="fadeIn",a=100):$(".blocsapp-special-menu").hasClass("nav-invert")&&(j="fadeInLeft");$(".blocsapp-special-menu blocsnav li").each(function(){$(this).parent().hasClass("dropdown-menu")?$(this).addClass("animated fadeIn"):(k+=a,$(this).attr("style","animation-delay:"+k+"ms").addClass("animated "+j))})}(),setTimeout(function(){$(".blocsapp-special-menu blocsnav").addClass("open"),$(".content-tint").addClass("on"),$("body").addClass("lock-scroll")},10)}}}),$("body").on("mousedown touchstart",".content-tint, .close-special-menu",function(a){$(".content-tint").removeClass("on"),$(".selected-nav").click(),setTimeout(function(){$(".content-tint").remove()},10)}).on("click",".blocsapp-special-menu a",function(a){$(a.target).closest(".dropdown-toggle").length||$(".close-special-menu").mousedown()})}function extraNavFuncs(){$(".site-navigation a").click(function(a){$(a.target).closest(".dropdown-toggle").length||$(".navbar-collapse").collapse("hide")}),$("a.dropdown-toggle").click(function(a){$(this).parent().addClass("target-open-menu"),$(this).closest(".dropdown-menu").find(".dropdown.open").each(function(b){$(this).hasClass("target-open-menu")||$(this).removeClass("open")}),$(".target-open-menu").removeClass("target-open-menu")})}function setFillScreenBlocHeight(){$(".bloc-fill-screen").each(function(a){var b=$(this);window.fillBodyHeight=0,$(this).find(".container").each(function(c){fillPadding=2*parseInt($(this).css("padding-top")),b.hasClass("bloc-group")?fillBodyHeight=fillPadding+$(this).outerHeight()+50:fillBodyHeight=fillBodyHeight+fillPadding+$(this).outerHeight()+50}),$(this).css("height",getFillHeight()+"px")})}function getFillHeight(){var a=$(window).height();return a<fillBodyHeight&&(a=fillBodyHeight+100),a}function scrollToTarget(a){1==a?a=0:2==a?a=$(document).height():(a=$(a).offset().top,$(".sticky-nav").length&&(a-=$(".sticky-nav .navbar-header").height())),$("html,body").animate({scrollTop:a},"slow"),$(".navbar-collapse").collapse("hide")}function animateWhenVisible(){hideAll(),inViewCheck(),$(window).scroll(function(){inViewCheck(),scrollToTopView(),stickyNavToggle()})}function setUpDropdownSubs(){$("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(a){a.preventDefault(),a.stopPropagation(),$(this).parent().siblings().removeClass("open"),$(this).parent().toggleClass("open");var b=$(this).parent().children(".dropdown-menu");b.offset().left+b.width()>$(window).width()&&b.addClass("dropmenu-flow-right")})}function stickyNavToggle(){var b=0,c="sticky";if($(".sticky-nav").hasClass("fill-bloc-top-edge")){var a=$(".fill-bloc-top-edge.sticky-nav").parent().css("background-color");"rgba(0, 0, 0, 0)"==a&&(a="#FFFFFF"),$(".sticky-nav").css("background",a),b=$(".sticky-nav").height(),c="sticky animated fadeInDown"}$(window).scrollTop()>b?($(".sticky-nav").addClass(c),"sticky"==c&&$(".page-container").css("padding-top",$(".sticky-nav").height())):($(".sticky-nav").removeClass(c).removeAttr("style"),$(".page-container").removeAttr("style"))}function hideAll(){$(".animated").each(function(a){$(this).closest(".hero").length||$(this).removeClass("animated").addClass("hideMe")})}function inViewCheck(){$($(".hideMe").get().reverse()).each(function(d){var f=jQuery(this),c=f.offset().top+f.height(),b=$(window).scrollTop()+$(window).height();if(f.height()>$(window).height()&&(c=f.offset().top),c<b){var g=f.attr("class").replace("hideMe","animated");f.css("visibility","hidden").removeAttr("class"),setTimeout(function(){f.attr("class",g).css("visibility","visible")},0.01)}})}function scrollToTopView(){$(window).scrollTop()>$(window).height()/3?$(".scrollToTop").hasClass("showScrollTop")||$(".scrollToTop").addClass("showScrollTop"):$(".scrollToTop").removeClass("showScrollTop")}function setUpVisibilityToggle(){$(document).on("click","[data-toggle-visibility]",function(d){d.preventDefault();var f=$(this).attr("data-toggle-visibility");if(-1!=f.indexOf(",")){var c=f.split(",");$.each(c,function(a){b($("#"+c[a]))})}else{b($("#"+f))}function b(a){a.is("img")?a.toggle():a.slideToggle()}})}function setUpLightBox(){window.targetLightbox,$(document).on("click","[data-lightbox]",function(f){f.preventDefault(),targetLightbox=$(this);var h=targetLightbox.attr("data-lightbox"),d=targetLightbox.attr("data-autoplay"),c='<p class="lightbox-caption">'+targetLightbox.attr("data-caption")+"</p>",j="no-gallery-set",b=targetLightbox.attr("data-frame");targetLightbox.attr("data-gallery-id")&&(j=targetLightbox.attr("data-gallery-id")),targetLightbox.attr("data-caption")||(c="");var k="";1==d&&(k="autoplay");var g=$('<div id="lightbox-modal" class="modal fade"><div class="modal-dialog"><div class="modal-content '+b+' blocs-lb-container"><button id="blocs-lightbox-close-btn" type="button" class="close-lightbox" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><a href="#" class="prev-lightbox" aria-label="prev"><span class="fa fa-chevron-left"></span></a><a href="#" class="next-lightbox" aria-label="next"><span class="fa fa-chevron-right"></span></a><img id="lightbox-image" class="img-responsive" src="'+h+'"><div id="lightbox-video-container" class="embed-responsive embed-responsive-16by9"><video controls '+k+' class="embed-responsive-item"><source id="lightbox-video" src="'+h+'" type="video/mp4"></video></div>'+c+"</div></div></div></div>");$("body").append(g),"fullscreen-lb"==b&&($("#lightbox-modal").addClass("fullscreen-modal").append('<a class="close-full-screen-modal animated fadeIn" style="animation-delay:0.5s;" onclick="$(\'#lightbox-modal\').modal(\'hide\');"><div class="close-icon"></div></a>'),$("#blocs-lightbox-close-btn").remove()),".mp4"==h.substring(h.length-4)?($("#lightbox-image, .lightbox-caption").hide(),$("#lightbox-video-container").show()):($("#lightbox-image,.lightbox-caption").show(),$("#lightbox-video-container").hide()),$("#lightbox-modal").modal("show"),"no-gallery-set"==j?(0==$("a[data-lightbox]").index(targetLightbox)&&$(".prev-lightbox").hide(),$("a[data-lightbox]").index(targetLightbox)==$("a[data-lightbox]").length-1&&$(".next-lightbox").hide()):(0==$('a[data-gallery-id="'+j+'"]').index(targetLightbox)&&$(".prev-lightbox").hide(),$('a[data-gallery-id="'+j+'"]').index(targetLightbox)==$('a[data-gallery-id="'+j+'"]').length-1&&$(".next-lightbox").hide()),addLightBoxSwipeSupport()}).on("hidden.bs.modal","#lightbox-modal",function(){$("#lightbox-modal").remove()}),$(document).on("click",".next-lightbox, .prev-lightbox",function(f){f.preventDefault();var g="no-gallery-set",d=$("a[data-lightbox]").index(targetLightbox),c=$("a[data-lightbox]").eq(d+1);targetLightbox.attr("data-gallery-id")&&(g=targetLightbox.attr("data-gallery-id"),d=$('a[data-gallery-id="'+g+'"]').index(targetLightbox),c=$('a[data-gallery-id="'+g+'"]').eq(d+1)),$(this).hasClass("prev-lightbox")&&(c=$('a[data-gallery-id="'+g+'"]').eq(d-1),"no-gallery-set"==g&&(c=$("a[data-lightbox]").eq(d-1)));var h=c.attr("data-lightbox");if(".mp4"==h.substring(h.length-4)){var b="";1==c.attr("data-autoplay")&&(b="autoplay"),$("#lightbox-image, .lightbox-caption").hide(),$("#lightbox-video-container").show().html("<video controls "+b+' class="embed-responsive-item"><source id="lightbox-video" src="'+h+'" type="video/mp4"></video>')}else{$("#lightbox-image").attr("src",h).show(),$(".lightbox-caption").html(c.attr("data-caption")).show(),$("#lightbox-video-container").hide()}targetLightbox=c,$(".next-lightbox, .prev-lightbox").hide(),"no-gallery-set"==g?($("a[data-lightbox]").index(c)!=$("a[data-lightbox]").length-1&&$(".next-lightbox").show(),$("a[data-lightbox]").index(c)>0&&$(".prev-lightbox").show()):($('a[data-gallery-id="'+g+'"]').index(c)!=$('a[data-gallery-id="'+g+'"]').length-1&&$(".next-lightbox").show(),$('a[data-gallery-id="'+g+'"]').index(c)>0&&$(".prev-lightbox").show())})}function addSwipeSupport(){$(".carousel-inner").length&&$(".carousel-inner").swipe({swipeLeft:function(d,f,c,b,g){$(this).parent().carousel("next")},swipeRight:function(){$(this).parent().carousel("prev")},threshold:0})}function addKeyBoardSupport(){$(window).keydown(function(a){37==a.which?$(".prev-lightbox").is(":visible")&&$(".prev-lightbox").click():39==a.which&&$(".next-lightbox").is(":visible")&&$(".next-lightbox").click()})}function addLightBoxSwipeSupport(){$("#lightbox-image").length&&$("#lightbox-image").swipe({swipeLeft:function(d,f,c,b,g){$(".next-lightbox").is(":visible")&&$(".next-lightbox").click()},swipeRight:function(){$(".prev-lightbox").is(":visible")&&$(".prev-lightbox").click()},threshold:0})}$(document).ready(function(){$("#scroll-hero").click(function(a){a.preventDefault(),$("html,body").animate({scrollTop:$("#scroll-hero").closest(".bloc").height()},"slow")}),extraNavFuncs(),setUpSpecialNavs(),setUpDropdownSubs(),setUpLightBox(),setUpVisibilityToggle(),addSwipeSupport(),addKeyBoardSupport(),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&$("#page-loading-blocs-notifaction").remove()}),$(window).load(function(){setFillScreenBlocHeight(),animateWhenVisible(),$("#page-loading-blocs-notifaction").remove()}).resize(function(){setFillScreenBlocHeight()}),$(function(){$('[data-toggle="tooltip"]').tooltip()});
/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
!function(a){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(g){function x(F){return !F||void 0!==F.allowPageScroll||void 0===F.swipe&&void 0===F.swipeStatus||(F.allowPageScroll=n),void 0!==F.click&&void 0===F.tap&&(F.tap=F.click),F||(F={}),F=g.extend({},g.fn.swipe.defaults,F),this.each(function(){var H=g(this),G=H.data(C);G||(G=new E(this,F),H.data(C,G))})}function E(a6,au){function aL(bf){if(!(aB()||g(bf.target).closest(au.excludedElements,aR).length>0)){var bg=bf.originalEvent?bf.originalEvent:bf;if(!bg.pointerType||"mouse"!=bg.pointerType||0!=au.fallbackToMouseEvents){var be,bh=bg.touches,bd=bh?bh[0]:bg;return aa=h,bh?X=bh.length:au.preventDefaultEvents!==!1&&bf.preventDefault(),ag=0,aP=null,a3=null,aJ=null,ac=0,a2=0,a0=0,H=1,ap=0,N=ab(),S(),ai(0,bd),!bh||X===au.fingers||au.fingers===j||aY()?(U=ar(),2==X&&(ai(1,bh[1]),a2=a0=at(aQ[0].start,aQ[1].start)),(au.swipeStatus||au.pinchStatus)&&(be=P(bg,aa))):be=!1,be===!1?(aa=r,P(bg,aa),be):(au.hold&&(af=setTimeout(g.proxy(function(){aR.trigger("hold",[bg.target]),au.hold&&(be=au.hold.call(aR,bg,bg.target))},this),au.longTapThreshold)),an(!0),null)}}}function a5(bg){var bj=bg.originalEvent?bg.originalEvent:bg;if(aa!==i&&aa!==r&&!al()){var bf,bk=bj.touches,be=bk?bk[0]:bj,bh=aH(be);if(a4=ar(),bk&&(X=bk.length),au.hold&&clearTimeout(af),aa=l,2==X&&(0==a2?(ai(1,bk[1]),a2=a0=at(aQ[0].start,aQ[1].start)):(aH(bk[1]),a0=at(aQ[0].end,aQ[1].end),aJ=aq(aQ[0].end,aQ[1].end)),H=bb(a2,a0),ap=Math.abs(a2-a0)),X===au.fingers||au.fingers===j||!bk||aY()){if(aP=aM(bh.start,bh.end),a3=aM(bh.last,bh.end),ak(bg,a3),ag=aS(bh.start,bh.end),ac=aN(),aI(aP,ag),bf=P(bj,aa),!au.triggerOnTouchEnd||au.triggerOnTouchLeave){var bd=!0;if(au.triggerOnTouchLeave){var bi=aZ(this);bd=F(bh.end,bi)}!au.triggerOnTouchEnd&&bd?aa=aC(l):au.triggerOnTouchLeave&&!bd&&(aa=aC(i)),aa!=r&&aa!=i||P(bj,aa)}}else{aa=r,P(bj,aa)}bf===!1&&(aa=r,P(bj,aa))}}function M(bd){var be=bd.originalEvent?bd.originalEvent:bd,bf=be.touches;if(bf){if(bf.length&&!al()){return G(be),!0}if(bf.length&&al()){return !0}}return al()&&(X=ay),a4=ar(),ac=aN(),bc()||!am()?(aa=r,P(be,aa)):au.triggerOnTouchEnd||au.triggerOnTouchEnd===!1&&aa===l?(au.preventDefaultEvents!==!1&&bd.cancelable!==!1&&bd.preventDefault(),aa=i,P(be,aa)):!au.triggerOnTouchEnd&&a8()?(aa=i,aE(be,aa,B)):aa===l&&(aa=r,P(be,aa)),an(!1),null}function ba(){X=0,a4=0,U=0,a2=0,a0=0,H=1,S(),an(!1)}function L(bd){var be=bd.originalEvent?bd.originalEvent:bd;au.triggerOnTouchLeave&&(aa=aC(i),P(be,aa))}function aK(){aR.unbind(K,aL),aR.unbind(aD,ba),aR.unbind(ax,a5),aR.unbind(V,M),T&&aR.unbind(T,L),an(!1)}function aC(bh){var bg=bh,bf=aA(),be=am(),bd=bc();return !bf||bd?bg=r:!be||bh!=l||au.triggerOnTouchEnd&&!au.triggerOnTouchLeave?!be&&bh==i&&au.triggerOnTouchLeave&&(bg=r):bg=i,bg}function P(bf,bd){var be,bg=bf.touches;return(J()||W())&&(be=aE(bf,bd,m)),(Q()||aY())&&be!==!1&&(be=aE(bf,bd,u)),aF()&&be!==!1?be=aE(bf,bd,k):ao()&&be!==!1?be=aE(bf,bd,b):ah()&&be!==!1&&(be=aE(bf,bd,B)),bd===r&&ba(bf),bd===i&&(bg?bg.length||ba(bf):ba(bf)),be}function aE(bg,bd,bf){var be;if(bf==m){if(aR.trigger("swipeStatus",[bd,aP||null,ag||0,ac||0,X,aQ,a3]),au.swipeStatus&&(be=au.swipeStatus.call(aR,bg,bd,aP||null,ag||0,ac||0,X,aQ,a3),be===!1)){return !1}if(bd==i&&aX()){if(clearTimeout(aW),clearTimeout(af),aR.trigger("swipe",[aP,ag,ac,X,aQ,a3]),au.swipe&&(be=au.swipe.call(aR,bg,aP,ag,ac,X,aQ,a3),be===!1)){return !1}switch(aP){case q:aR.trigger("swipeLeft",[aP,ag,ac,X,aQ,a3]),au.swipeLeft&&(be=au.swipeLeft.call(aR,bg,aP,ag,ac,X,aQ,a3));break;case p:aR.trigger("swipeRight",[aP,ag,ac,X,aQ,a3]),au.swipeRight&&(be=au.swipeRight.call(aR,bg,aP,ag,ac,X,aQ,a3));break;case f:aR.trigger("swipeUp",[aP,ag,ac,X,aQ,a3]),au.swipeUp&&(be=au.swipeUp.call(aR,bg,aP,ag,ac,X,aQ,a3));break;case y:aR.trigger("swipeDown",[aP,ag,ac,X,aQ,a3]),au.swipeDown&&(be=au.swipeDown.call(aR,bg,aP,ag,ac,X,aQ,a3))}}}if(bf==u){if(aR.trigger("pinchStatus",[bd,aJ||null,ap||0,ac||0,X,H,aQ]),au.pinchStatus&&(be=au.pinchStatus.call(aR,bg,bd,aJ||null,ap||0,ac||0,X,H,aQ),be===!1)){return !1}if(bd==i&&a9()){switch(aJ){case c:aR.trigger("pinchIn",[aJ||null,ap||0,ac||0,X,H,aQ]),au.pinchIn&&(be=au.pinchIn.call(aR,bg,aJ||null,ap||0,ac||0,X,H,aQ));break;case A:aR.trigger("pinchOut",[aJ||null,ap||0,ac||0,X,H,aQ]),au.pinchOut&&(be=au.pinchOut.call(aR,bg,aJ||null,ap||0,ac||0,X,H,aQ))}}}return bf==B?bd!==r&&bd!==i||(clearTimeout(aW),clearTimeout(af),Z()&&!I()?(O=ar(),aW=setTimeout(g.proxy(function(){O=null,aR.trigger("tap",[bg.target]),au.tap&&(be=au.tap.call(aR,bg,bg.target))},this),au.doubleTapThreshold)):(O=null,aR.trigger("tap",[bg.target]),au.tap&&(be=au.tap.call(aR,bg,bg.target)))):bf==k?bd!==r&&bd!==i||(clearTimeout(aW),clearTimeout(af),O=null,aR.trigger("doubletap",[bg.target]),au.doubleTap&&(be=au.doubleTap.call(aR,bg,bg.target))):bf==b&&(bd!==r&&bd!==i||(clearTimeout(aW),O=null,aR.trigger("longtap",[bg.target]),au.longTap&&(be=au.longTap.call(aR,bg,bg.target)))),be}function am(){var bd=!0;return null!==au.threshold&&(bd=ag>=au.threshold),bd}function bc(){var bd=!1;return null!==au.cancelThreshold&&null!==aP&&(bd=aT(aP)-ag>=au.cancelThreshold),bd}function ae(){return null===au.pinchThreshold||ap>=au.pinchThreshold}function aA(){var bd;return bd=!au.maxTimeThreshold||!(ac>=au.maxTimeThreshold)}function ak(bd,be){if(au.preventDefaultEvents!==!1){if(au.allowPageScroll===n){bd.preventDefault()}else{var bf=au.allowPageScroll===t;switch(be){case q:(au.swipeLeft&&bf||!bf&&au.allowPageScroll!=D)&&bd.preventDefault();break;case p:(au.swipeRight&&bf||!bf&&au.allowPageScroll!=D)&&bd.preventDefault();break;case f:(au.swipeUp&&bf||!bf&&au.allowPageScroll!=v)&&bd.preventDefault();break;case y:(au.swipeDown&&bf||!bf&&au.allowPageScroll!=v)&&bd.preventDefault();break;case n:}}}}function a9(){var be=aO(),bd=Y(),bf=ae();return be&&bd&&bf}function aY(){return !!(au.pinchStatus||au.pinchIn||au.pinchOut)}function Q(){return !(!a9()||!aY())}function aX(){var bg=aA(),bi=am(),bf=aO(),bd=Y(),be=bc(),bh=!be&&bd&&bf&&bi&&bg;return bh}function W(){return !!(au.swipe||au.swipeStatus||au.swipeLeft||au.swipeRight||au.swipeUp||au.swipeDown)}function J(){return !(!aX()||!W())}function aO(){return X===au.fingers||au.fingers===j||!a}function Y(){return 0!==aQ[0].end.x}function a8(){return !!au.tap}function Z(){return !!au.doubleTap}function aV(){return !!au.longTap}function R(){if(null==O){return !1}var bd=ar();return Z()&&bd-O<=au.doubleTapThreshold}function I(){return R()}function aw(){return(1===X||!a)&&(isNaN(ag)||ag<au.threshold)}function a1(){return ac>au.longTapThreshold&&ag<s}function ah(){return !(!aw()||!a8())}function aF(){return !(!R()||!Z())}function ao(){return !(!a1()||!aV())}function G(bd){a7=ar(),ay=bd.touches.length+1}function S(){a7=0,ay=0}function al(){var bd=!1;if(a7){var be=ar()-a7;be<=au.fingerReleaseThreshold&&(bd=!0)}return bd}function aB(){return !(aR.data(C+"_intouch")!==!0)}function an(bd){aR&&(bd===!0?(aR.bind(ax,a5),aR.bind(V,M),T&&aR.bind(T,L)):(aR.unbind(ax,a5,!1),aR.unbind(V,M,!1),T&&aR.unbind(T,L,!1)),aR.data(C+"_intouch",bd===!0))}function ai(bf,bd){var be={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return be.start.x=be.last.x=be.end.x=bd.pageX||bd.clientX,be.start.y=be.last.y=be.end.y=bd.pageY||bd.clientY,aQ[bf]=be,be}function aH(bd){var bf=void 0!==bd.identifier?bd.identifier:0,be=ad(bf);return null===be&&(be=ai(bf,bd)),be.last.x=be.end.x,be.last.y=be.end.y,be.end.x=bd.pageX||bd.clientX,be.end.y=bd.pageY||bd.clientY,be}function ad(bd){return aQ[bd]||null}function aI(bd,be){bd!=n&&(be=Math.max(be,aT(bd)),N[bd].distance=be)}function aT(bd){if(N[bd]){return N[bd].distance}}function ab(){var bd={};return bd[q]=av(q),bd[p]=av(p),bd[f]=av(f),bd[y]=av(y),bd}function av(bd){return{direction:bd,distance:0}}function aN(){return a4-U}function at(bg,bf){var be=Math.abs(bg.x-bf.x),bd=Math.abs(bg.y-bf.y);return Math.round(Math.sqrt(be*be+bd*bd))}function bb(bd,be){var bf=be/bd*1;return bf.toFixed(2)}function aq(){return H<1?A:c}function aS(be,bd){return Math.round(Math.sqrt(Math.pow(bd.x-be.x,2)+Math.pow(bd.y-be.y,2)))}function aG(bg,be){var bd=bg.x-be.x,bi=be.y-bg.y,bf=Math.atan2(bi,bd),bh=Math.round(180*bf/Math.PI);return bh<0&&(bh=360-Math.abs(bh)),bh}function aM(be,bd){if(aU(be,bd)){return n}var bf=aG(be,bd);return bf<=45&&bf>=0?q:bf<=360&&bf>=315?q:bf>=135&&bf<=225?p:bf>45&&bf<135?y:f}function ar(){var bd=new Date;return bd.getTime()}function aZ(bd){bd=g(bd);var bf=bd.offset(),be={left:bf.left,right:bf.left+bd.outerWidth(),top:bf.top,bottom:bf.top+bd.outerHeight()};return be}function F(bd,be){return bd.x>be.left&&bd.x<be.right&&bd.y>be.top&&bd.y<be.bottom}function aU(bd,be){return bd.x==be.x&&bd.y==be.y}var au=g.extend({},au),az=a||d||!au.fallbackToMouseEvents,K=az?d?w?"MSPointerDown":"pointerdown":"touchstart":"mousedown",ax=az?d?w?"MSPointerMove":"pointermove":"touchmove":"mousemove",V=az?d?w?"MSPointerUp":"pointerup":"touchend":"mouseup",T=az?d?"mouseleave":null:"mouseleave",aD=d?w?"MSPointerCancel":"pointercancel":"touchcancel",ag=0,aP=null,a3=null,ac=0,a2=0,a0=0,H=1,ap=0,aJ=0,N=null,aR=g(a6),aa="start",X=0,aQ={},U=0,a4=0,a7=0,ay=0,O=0,aW=null,af=null;try{aR.bind(K,aL),aR.bind(aD,ba)}catch(aj){g.error("events not supported "+K+","+aD+" on jQuery.swipe")}this.enable=function(){return this.disable(),aR.bind(K,aL),aR.bind(aD,ba),aR},this.disable=function(){return aK(),aR},this.destroy=function(){aK(),aR.data(C,null),aR=null},this.option=function(be,bd){if("object"==typeof be){au=g.extend(au,be)}else{if(void 0!==au[be]){if(void 0===bd){return au[be]}au[be]=bd}else{if(!be){return au}g.error("Option "+be+" does not exist on jQuery.swipe.options")}}return null}}var z="1.6.18",q="left",p="right",f="up",y="down",c="in",A="out",n="none",t="auto",m="swipe",u="pinch",B="tap",k="doubletap",b="longtap",D="horizontal",v="vertical",j="all",s=10,h="start",l="move",i="end",r="cancel",a="ontouchstart" in window,w=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!a,d=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!a,C="TouchSwipe",o={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};g.fn.swipe=function(H){var G=g(this),F=G.data(C);if(F&&"string"==typeof H){if(F[H]){return F[H].apply(F,Array.prototype.slice.call(arguments,1))}g.error("Method "+H+" does not exist on jQuery.swipe")}else{if(F&&"object"==typeof H){F.option.apply(F,arguments)}else{if(!(F||"object"!=typeof H&&H)){return x.apply(this,arguments)}}}return G},g.fn.swipe.version=z,g.fn.swipe.defaults=o,g.fn.swipe.phases={PHASE_START:h,PHASE_MOVE:l,PHASE_END:i,PHASE_CANCEL:r},g.fn.swipe.directions={LEFT:q,RIGHT:p,UP:f,DOWN:y,IN:c,OUT:A},g.fn.swipe.pageScroll={NONE:n,HORIZONTAL:D,VERTICAL:v,AUTO:t},g.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:j}});